{"ast":null,"code":"var _jsxFileName = \"/Users/javontaymcelroy/Documents/Coding/chicken-ai/chicken-ai/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from \"react\";\nimport menuData from \"./menuData.json\";\nimport \"./App.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [inputText, setInputText] = useState(\"\");\n  const [messages, setMessages] = useState([{\n    role: 'assistant',\n    content: \"Welcome to Chick-fil-A! We're so excited to see you! What can we get started for you today? ðŸ®\"\n  }]);\n  const [menu] = useState(menuData.menu);\n  const [order, setOrder] = useState([]);\n  const persona = \"Use a friendly and approachable tone, add a touch of wit and humor, and incorporate colloquialisms and everyday language to give your writing a down-to-earth quality. Write in a straightforward and concise manner (preferably under 60 characters), avoiding excessive use of flowery language or complex sentence structures. Keep your writing style relatable and easy to follow, to establish yourself as a friendly and likable person.\";\n  const chatContainerRef = useRef(null);\n\n  // Load messages from local storage\n  useEffect(() => {\n    const storedMessages = JSON.parse(localStorage.getItem(\"messages\")) || [];\n    setMessages(storedMessages);\n  }, []);\n\n  // Save individual messages to local storage\n  useEffect(() => {\n    const lastMessage = messages[messages.length - 1];\n    if (lastMessage) {\n      let storedMessages = JSON.parse(localStorage.getItem(\"messages\")) || [];\n      storedMessages.push(lastMessage);\n      localStorage.setItem(\"messages\", JSON.stringify(storedMessages));\n    }\n  }, [messages]);\n\n  // Render and update order dynamically\n  const renderOrder = useCallback(() => {\n    return order.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [item.name, \" x \", item.quantity]\n    }, item.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 5\n    }, this));\n  }, [order]);\n  useEffect(() => {\n    renderOrder();\n  }, [renderOrder]);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (inputText.trim()) {\n      const newMessages = [...messages, {\n        role: \"user\",\n        content: inputText\n      }];\n      setMessages(newMessages);\n      const chatHistory = newMessages.map(m => m.content).join(\" \");\n      const response = await fetch(\"/api/chatgpt\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          prompt: `You are an AI assistant for Chick-fil-A, helping customers place orders under this ${persona}. The menu items available are: ${menu.map(item => item.name).join(\", \")}. Your task is to understand and process customer's requests for adding, updating, or removing items from their order, and provide information about menu items. ${chatHistory}. Please keep your response concise.`,\n          temperature: 0.7,\n          topP: 1,\n          maxLength: 150\n        })\n      });\n      const responseBody = await response.json();\n      if (responseBody && responseBody.content) {\n        const chatGPTResponse = responseBody.content;\n        console.log(\"ChatGPT Response:\", chatGPTResponse);\n        setMessages(prevMessages => [...prevMessages, {\n          role: \"assistant\",\n          content: chatGPTResponse\n        }]);\n\n        // Call the reviewOrderItems function to update the order\n        await reviewOrderItems(chatHistory + \" \" + chatGPTResponse);\n      } else {\n        console.log(\"No response content:\", responseBody);\n      }\n      setInputText(\"\");\n    }\n  };\n  const reviewOrderItems = async chatHistory => {\n    const response = await fetch(\"/api/chatgpt\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        prompt: `Analyze the following conversation at a Chick-fil-A restaurant: ${chatHistory}. Based on the conversation, provide the menu items in the customer's order in the format \"Menu item, Quantity, Modifications\" (if any). Available menu items: ${menu.map(item => item.name).join(\", \")}. Do not generate any additional responses as a customer or AI assistant.`,\n        temperature: 0.7,\n        topP: 1,\n        maxLength: 150\n      })\n    });\n    const responseBody = await response.json();\n    if (responseBody && responseBody.content) {\n      const chatGPTResponse = responseBody.content;\n      console.log(\"Menu Response:\", chatGPTResponse);\n      console.log(\"Chatlog\", chatHistory);\n      const menuItemRegex = new RegExp(`(${menuData.menu.map(item => item.name).join(\"|\")})\\\\s*,\\\\s*Quantity\\\\s*:\\\\s*(\\\\d+)(?:,\\\\s*Modifications\\\\s*:\\\\s*([^,]*))?`, \"ig\");\n      const menuItemMatches = [...chatGPTResponse.matchAll(menuItemRegex)];\n      if (menuItemMatches) {\n        const newOrder = [];\n        for (const match of menuItemMatches) {\n          const itemName = match[1];\n          const quantity = parseInt(match[2], 10);\n          const modifications = match[3] && match[3].toLowerCase() !== \"none\" ? match[3] : \"\";\n          const menuItem = menu.find(item => item.name.toLowerCase() === itemName.toLowerCase());\n          if (menuItem) {\n            const existingOrderItem = newOrder.find(item => item.id === menuItem.id);\n            if (existingOrderItem) {\n              existingOrderItem.quantity += quantity;\n              existingOrderItem.modifications = modifications || \"\";\n            } else {\n              newOrder.push({\n                ...menuItem,\n                quantity,\n                modifications: modifications || \"\"\n              });\n            }\n          }\n        }\n        if (JSON.stringify(order) !== JSON.stringify(newOrder)) {\n          setOrder(newOrder);\n          renderOrder();\n        }\n      }\n    }\n  };\n  useEffect(() => {\n    if (chatContainerRef.current) {\n      chatContainerRef.current.scrollTop = chatContainerRef.current.scrollHeight;\n    }\n  }, [messages]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Chick-fil-AI\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-container\",\n      ref: chatContainerRef,\n      children: messages.map((message, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `chat-message ${message.role === \"user\" ? \"user\" : \"assistant\"}`,\n        children: message.content\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"menu-order\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Your Order:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 9\n      }, this), renderOrder()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: inputText,\n        onChange: e => setInputText(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Send\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 172,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"sEcqT2W/0YJT9N8RLA8EdA8bjz8=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","menuData","jsxDEV","_jsxDEV","App","_s","inputText","setInputText","messages","setMessages","role","content","menu","order","setOrder","persona","chatContainerRef","storedMessages","JSON","parse","localStorage","getItem","lastMessage","length","push","setItem","stringify","renderOrder","useCallback","map","item","children","name","quantity","id","fileName","_jsxFileName","lineNumber","columnNumber","handleSubmit","e","preventDefault","trim","newMessages","chatHistory","m","join","response","fetch","method","headers","body","prompt","temperature","topP","maxLength","responseBody","json","chatGPTResponse","console","log","prevMessages","reviewOrderItems","menuItemRegex","RegExp","menuItemMatches","matchAll","newOrder","match","itemName","parseInt","modifications","toLowerCase","menuItem","find","existingOrderItem","current","scrollTop","scrollHeight","className","ref","message","index","onSubmit","type","value","onChange","target","_c","$RefreshReg$"],"sources":["/Users/javontaymcelroy/Documents/Coding/chicken-ai/chicken-ai/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport menuData from \"./menuData.json\";\nimport \"./App.css\";\n\nfunction App() {\n  const [inputText, setInputText] = useState(\"\");\n  const [messages, setMessages] = useState([\n    {\n      role: 'assistant',\n      content: \"Welcome to Chick-fil-A! We're so excited to see you! What can we get started for you today? ðŸ®\",\n    },\n  ]);\n  \n  const [menu] = useState(menuData.menu);\n  const [order, setOrder] = useState([]);\n  const persona = \"Use a friendly and approachable tone, add a touch of wit and humor, and incorporate colloquialisms and everyday language to give your writing a down-to-earth quality. Write in a straightforward and concise manner (preferably under 60 characters), avoiding excessive use of flowery language or complex sentence structures. Keep your writing style relatable and easy to follow, to establish yourself as a friendly and likable person.\"\n  const chatContainerRef = useRef(null);\n\n\n  // Load messages from local storage\n  useEffect(() => {\n    const storedMessages = JSON.parse(localStorage.getItem(\"messages\")) || [];\n    setMessages(storedMessages);\n  }, []);\n\n  // Save individual messages to local storage\n  useEffect(() => {\n    const lastMessage = messages[messages.length - 1];\n    if (lastMessage) {\n      let storedMessages = JSON.parse(localStorage.getItem(\"messages\")) || [];\n      storedMessages.push(lastMessage);\n      localStorage.setItem(\"messages\", JSON.stringify(storedMessages));\n    }\n  }, [messages]);\n\n\n// Render and update order dynamically\nconst renderOrder = useCallback(() => {\n  return order.map((item) => (\n    <div key={item.id}>\n      {item.name} x {item.quantity}\n    </div>\n  ));\n}, [order]);\n\nuseEffect(() => {\n  renderOrder();\n}, [renderOrder]);\n\n  \nconst handleSubmit = async (e) => {\n  e.preventDefault();\n\n  if (inputText.trim()) {\n    const newMessages = [...messages, { role: \"user\", content: inputText }];\n    setMessages(newMessages);\n\n    const chatHistory = newMessages\n      .map((m) => m.content)\n      .join(\" \");\n\n    const response = await fetch(\"/api/chatgpt\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        prompt: `You are an AI assistant for Chick-fil-A, helping customers place orders under this ${persona}. The menu items available are: ${menu\n          .map((item) => item.name)\n          .join(\", \")}. Your task is to understand and process customer's requests for adding, updating, or removing items from their order, and provide information about menu items. ${chatHistory}. Please keep your response concise.`,\n        temperature: 0.7,\n        topP: 1,\n        maxLength: 150,\n      }),\n    });\n\n    const responseBody = await response.json();\n\n    if (responseBody && responseBody.content) {\n      const chatGPTResponse = responseBody.content;\n      console.log(\"ChatGPT Response:\", chatGPTResponse);\n\n      setMessages((prevMessages) => [\n        ...prevMessages,\n        { role: \"assistant\", content: chatGPTResponse },\n      ]);\n\n      // Call the reviewOrderItems function to update the order\n      await reviewOrderItems(chatHistory + \" \" + chatGPTResponse);\n    } else {\n      console.log(\"No response content:\", responseBody);\n    }\n\n    setInputText(\"\");\n  }\n};\n\nconst reviewOrderItems = async (chatHistory) => {\n  const response = await fetch(\"/api/chatgpt\", {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify({\n      prompt: `Analyze the following conversation at a Chick-fil-A restaurant: ${chatHistory}. Based on the conversation, provide the menu items in the customer's order in the format \"Menu item, Quantity, Modifications\" (if any). Available menu items: ${menu\n        .map((item) => item.name)\n        .join(\", \")}. Do not generate any additional responses as a customer or AI assistant.`,\n      temperature: 0.7,\n      topP: 1,\n      maxLength: 150,\n    }),\n  });\n\n  const responseBody = await response.json();\n\n  if (responseBody && responseBody.content) {\n    const chatGPTResponse = responseBody.content;\n    console.log(\"Menu Response:\", chatGPTResponse);\n    console.log(\"Chatlog\", chatHistory);\n\n    const menuItemRegex = new RegExp(\n      `(${menuData.menu.map((item) => item.name).join(\"|\")})\\\\s*,\\\\s*Quantity\\\\s*:\\\\s*(\\\\d+)(?:,\\\\s*Modifications\\\\s*:\\\\s*([^,]*))?`,\n      \"ig\"\n    );\n\n    const menuItemMatches = [...chatGPTResponse.matchAll(menuItemRegex)];\n\n    if (menuItemMatches) {\n      const newOrder = [];\n\n      for (const match of menuItemMatches) {\n        const itemName = match[1];\n        const quantity = parseInt(match[2], 10);\n        const modifications = match[3] && match[3].toLowerCase() !== \"none\" ? match[3] : \"\";\n\n        const menuItem = menu.find(\n          (item) => item.name.toLowerCase() === itemName.toLowerCase()\n        );\n\n        if (menuItem) {\n          const existingOrderItem = newOrder.find(\n            (item) => item.id === menuItem.id\n          );\n\n          if (existingOrderItem) {\n            existingOrderItem.quantity += quantity;\n            existingOrderItem.modifications = modifications || \"\";\n          } else {\n            newOrder.push({\n              ...menuItem,\n              quantity,\n              modifications: modifications || \"\",\n            });\n          }\n        }\n      }\n\n      if (JSON.stringify(order) !== JSON.stringify(newOrder)) {\n        setOrder(newOrder);\n        renderOrder();\n      }      \n    }\n  }\n};\n\n\n\n  useEffect(() => {\n    if (chatContainerRef.current) {\n      chatContainerRef.current.scrollTop = chatContainerRef.current.scrollHeight;\n    }\n  }, [messages]);\n\n  \n  return (\n    <div className=\"App\">\n      <h1>Chick-fil-AI</h1>\n      <div className=\"chat-container\" ref={chatContainerRef}>\n        {messages.map((message, index) => (\n          <div\n            key={index}\n            className={`chat-message ${message.role === \"user\" ? \"user\" : \"assistant\"}`}\n          >\n            {message.content}\n          </div>\n        ))}\n      </div>\n\n      <div className=\"menu-order\">\n        <h2>Your Order:</h2>\n        {renderOrder()}\n      </div>\n      <form onSubmit={handleSubmit}>\n        <input\n          type=\"text\"\n          value={inputText}\n          onChange={(e) => setInputText(e.target.value)}\n        />\n        <button type=\"submit\">Send</button>\n      </form>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}