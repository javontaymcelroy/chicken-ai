{"ast":null,"code":"var _jsxFileName = \"/Users/javontaymcelroy/Documents/Coding/chicken-ai/chicken-ai/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from \"react\";\nimport menuData from \"./menuData.json\";\nimport \"./App.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [inputText, setInputText] = useState(\"\");\n  const [messages, setMessages] = useState([{\n    role: 'assistant',\n    content: \"Welcome to Chick-fil-A! We're so excited to see you! What can we get started for you today? 🐮\"\n  }]);\n  const [menu] = useState(menuData.menu);\n  const [order, setOrder] = useState([]);\n  const persona = \"Use a friendly and approachable tone, add a touch of wit and humor, and incorporate colloquialisms and everyday language to give your writing a down-to-earth quality. Write in a straightforward and concise manner (preferably under 60 characters), avoiding excessive use of flowery language or complex sentence structures. Keep your writing style relatable and easy to follow, to establish yourself as a friendly and likable person.\";\n  const chatContainerRef = useRef(null);\n\n  // Load messages from local storage\n  useEffect(() => {\n    const storedMessages = JSON.parse(localStorage.getItem(\"messages\")) || [];\n    setMessages(storedMessages);\n  }, []);\n\n  // Save individual messages to local storage\n  useEffect(() => {\n    const lastMessage = messages[messages.length - 1];\n    if (lastMessage) {\n      let storedMessages = JSON.parse(localStorage.getItem(\"messages\")) || [];\n      storedMessages.push(lastMessage);\n      localStorage.setItem(\"messages\", JSON.stringify(storedMessages));\n    }\n  }, [messages]);\n\n  // order\n  useEffect(() => {\n    setOrder([]);\n  }, []);\n\n  // Render and update menuOrder dynamically\n  const renderOrder = () => {\n    return order.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [item.name, \" x \", item.quantity]\n    }, item.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }, this));\n  };\n\n  // const extractInfo = (responseText) => {\n  //   const menuItemNames = menuData.menu.map((item) => item.name).join('|');\n  //   const addActionRegex = new RegExp(`(?:adding|added|got|included|coming right up)\\\\s*(?:a |an |some |)(${menuItemNames})(?: to the order|)`, 'i');\n  //   const updateActionRegex = /(?:updating|updated|changing|changed|altering|altered)(?: the| my)?(?: quantity of)?(?: the)? ([a-zA-Z\\s]+) (?:to|for|in my order)?(?:\\s*please\\s*|)(?:\\s*to\\s*|)(\\d+)/i;\n  //   const deleteActionRegex = /(?:removing|removed|deleting|deleted|canceling|canceled|taking off|erasing|discarding)(?: the| a| an)? ([a-zA-Z\\s]+)(?: from the order|)?(?: please|)/i;\n\n  //   const addActionMatch = responseText.match(addActionRegex);\n  //   const updateActionMatch = responseText.match(updateActionRegex);\n  //   const deleteActionMatch = responseText.match(deleteActionRegex);\n\n  //   if (addActionMatch) {\n  //     return {\n  //       action: \"add\",\n  //       item: {\n  //         name: addActionMatch[1].trim(),\n  //         quantity: null,\n  //       },\n  //     };\n  //   } else if (updateActionMatch) {\n  //     return {\n  //       action: \"update\",\n  //       item: {\n  //         name: updateActionMatch[1].trim(),\n  //         quantity: parseInt(updateActionMatch[2]),\n  //       },\n  //     };\n  //   } else if (deleteActionMatch) {\n  //     return {\n  //       action: \"delete\",\n  //       item: {\n  //         name: deleteActionMatch[1].trim(),\n  //         quantity: null,\n  //       },\n  //     };\n  //   } else {\n  //     return {\n  //       action: \"\",\n  //       item: {\n  //         name: \"\",\n  //         quantity: null,\n  //       },\n  //     };\n  //   }\n  // };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (inputText.trim()) {\n      setMessages([...messages, {\n        role: \"user\",\n        content: inputText\n      }]);\n      const chatHistory = [...messages, {\n        role: \"user\",\n        content: inputText\n      }].map(m => m.content).join(\" \");\n      const response = await fetch(\"/api/chatgpt\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          prompt: `You are an AI assistant for Chick-fil-A, helping customers place orders under this ${persona}. The menu items available are: ${menu.map(item => item.name).join(\", \")}. Your task is to understand and process customer's requests for adding, updating, or removing items from their order, and provide information about menu items. Given this conversation, what is the customer's current order? ${chatHistory}`,\n          temperature: 0.7,\n          topP: 1,\n          maxLength: 150,\n          menuData: menuData\n        })\n      });\n      const responseBody = await response.json();\n      if (responseBody && responseBody.content) {\n        const chatGPTResponse = responseBody.content;\n        setMessages(prevMessages => [...prevMessages, {\n          role: \"assistant\",\n          content: chatGPTResponse\n        }]);\n\n        // Make a separate API call to update the order\n        const orderResponse = await fetch(\"/api/chatgpt\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify({\n            prompt: `You are an AI assistant for Chick-fil-A, helping customers place orders under this ${persona}. The menu items available are: ${menu.map(item => item.name).join(\", \")}. Your task is to understand and process customer's requests for adding, updating, or removing items from their order, and provide information about menu items. Given this conversation, what is the customer's updated order? ${chatHistory}`,\n            temperature: 0.7,\n            topP: 1,\n            maxLength: 150,\n            menuData: menuData\n          })\n        });\n        const orderResponseBody = await orderResponse.json();\n        if (orderResponseBody && orderResponseBody.content) {\n          // Process the updated order from the API response\n          const updatedOrder = processOrder(orderResponseBody.content);\n          setOrder(updatedOrder);\n        }\n      }\n    }\n  };\n  const processOrder = orderString => {\n    const regex = new RegExp(`(\\\\d+)\\\\s*x\\\\s*(${menu.map(item => item.name).join(\"|\")})`, \"gi\");\n    const orderItems = [];\n    let match;\n    while ((match = regex.exec(orderString)) !== null) {\n      const quantity = parseInt(match[1]);\n      const itemName = match[2];\n      const menuItem = menu.find(item => item.name === itemName);\n      if (menuItem) {\n        orderItems.push({\n          ...menuItem,\n          quantity\n        });\n      }\n    }\n    return orderItems;\n  };\n  useEffect(() => {\n    if (chatContainerRef.current) {\n      chatContainerRef.current.scrollTop = chatContainerRef.current.scrollHeight;\n    }\n  }, [messages]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Chick-fil-AI\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-container\",\n      ref: chatContainerRef,\n      children: messages.map((message, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `chat-message ${message.role === \"user\" ? \"user\" : \"assistant\"}`,\n        children: message.content\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"menu-order\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Your Order:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 9\n      }, this), renderOrder()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: inputText,\n        onChange: e => setInputText(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Send\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 182,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"z1g16G5VW+XYOAuLaIRfNm59Zhc=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","menuData","jsxDEV","_jsxDEV","App","_s","inputText","setInputText","messages","setMessages","role","content","menu","order","setOrder","persona","chatContainerRef","storedMessages","JSON","parse","localStorage","getItem","lastMessage","length","push","setItem","stringify","renderOrder","map","item","children","name","quantity","id","fileName","_jsxFileName","lineNumber","columnNumber","handleSubmit","e","preventDefault","trim","chatHistory","m","join","response","fetch","method","headers","body","prompt","temperature","topP","maxLength","responseBody","json","chatGPTResponse","prevMessages","orderResponse","orderResponseBody","updatedOrder","processOrder","orderString","regex","RegExp","orderItems","match","exec","parseInt","itemName","menuItem","find","current","scrollTop","scrollHeight","className","ref","message","index","onSubmit","type","value","onChange","target","_c","$RefreshReg$"],"sources":["/Users/javontaymcelroy/Documents/Coding/chicken-ai/chicken-ai/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport menuData from \"./menuData.json\";\nimport \"./App.css\";\n\nfunction App() {\n  const [inputText, setInputText] = useState(\"\");\n  const [messages, setMessages] = useState([\n    {\n      role: 'assistant',\n      content: \"Welcome to Chick-fil-A! We're so excited to see you! What can we get started for you today? 🐮\",\n    },\n  ]);\n  \n  const [menu] = useState(menuData.menu);\n  const [order, setOrder] = useState([]);\n  const persona = \"Use a friendly and approachable tone, add a touch of wit and humor, and incorporate colloquialisms and everyday language to give your writing a down-to-earth quality. Write in a straightforward and concise manner (preferably under 60 characters), avoiding excessive use of flowery language or complex sentence structures. Keep your writing style relatable and easy to follow, to establish yourself as a friendly and likable person.\"\n  const chatContainerRef = useRef(null);\n\n  // Load messages from local storage\n  useEffect(() => {\n    const storedMessages = JSON.parse(localStorage.getItem(\"messages\")) || [];\n    setMessages(storedMessages);\n  }, []);\n\n  // Save individual messages to local storage\n  useEffect(() => {\n    const lastMessage = messages[messages.length - 1];\n    if (lastMessage) {\n      let storedMessages = JSON.parse(localStorage.getItem(\"messages\")) || [];\n      storedMessages.push(lastMessage);\n      localStorage.setItem(\"messages\", JSON.stringify(storedMessages));\n    }\n  }, [messages]);\n\n// order\nuseEffect(() => {\n  setOrder([]);\n}, []);\n\n// Render and update menuOrder dynamically\nconst renderOrder = () => {\n  return order.map((item) => (\n    <div key={item.id}>\n      {item.name} x {item.quantity}\n    </div>\n  ));\n};\n\n\n// const extractInfo = (responseText) => {\n//   const menuItemNames = menuData.menu.map((item) => item.name).join('|');\n//   const addActionRegex = new RegExp(`(?:adding|added|got|included|coming right up)\\\\s*(?:a |an |some |)(${menuItemNames})(?: to the order|)`, 'i');\n//   const updateActionRegex = /(?:updating|updated|changing|changed|altering|altered)(?: the| my)?(?: quantity of)?(?: the)? ([a-zA-Z\\s]+) (?:to|for|in my order)?(?:\\s*please\\s*|)(?:\\s*to\\s*|)(\\d+)/i;\n//   const deleteActionRegex = /(?:removing|removed|deleting|deleted|canceling|canceled|taking off|erasing|discarding)(?: the| a| an)? ([a-zA-Z\\s]+)(?: from the order|)?(?: please|)/i;\n\n//   const addActionMatch = responseText.match(addActionRegex);\n//   const updateActionMatch = responseText.match(updateActionRegex);\n//   const deleteActionMatch = responseText.match(deleteActionRegex);\n\n//   if (addActionMatch) {\n//     return {\n//       action: \"add\",\n//       item: {\n//         name: addActionMatch[1].trim(),\n//         quantity: null,\n//       },\n//     };\n//   } else if (updateActionMatch) {\n//     return {\n//       action: \"update\",\n//       item: {\n//         name: updateActionMatch[1].trim(),\n//         quantity: parseInt(updateActionMatch[2]),\n//       },\n//     };\n//   } else if (deleteActionMatch) {\n//     return {\n//       action: \"delete\",\n//       item: {\n//         name: deleteActionMatch[1].trim(),\n//         quantity: null,\n//       },\n//     };\n//   } else {\n//     return {\n//       action: \"\",\n//       item: {\n//         name: \"\",\n//         quantity: null,\n//       },\n//     };\n//   }\n// };\n\n\nconst handleSubmit = async (e) => {\n  e.preventDefault();\n\n  if (inputText.trim()) {\n    setMessages([...messages, { role: \"user\", content: inputText }]);\n\n    const chatHistory = [...messages, { role: \"user\", content: inputText }]\n      .map((m) => m.content)\n      .join(\" \");\n\n    const response = await fetch(\"/api/chatgpt\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        prompt: `You are an AI assistant for Chick-fil-A, helping customers place orders under this ${persona}. The menu items available are: ${menu\n          .map((item) => item.name)\n          .join(\", \")}. Your task is to understand and process customer's requests for adding, updating, or removing items from their order, and provide information about menu items. Given this conversation, what is the customer's current order? ${chatHistory}`,\n        temperature: 0.7,\n        topP: 1,\n        maxLength: 150,\n        menuData: menuData,\n      }),\n    });\n\n    const responseBody = await response.json();\n\n    if (responseBody && responseBody.content) {\n      const chatGPTResponse = responseBody.content;\n      setMessages((prevMessages) => [\n        ...prevMessages,\n        { role: \"assistant\", content: chatGPTResponse },\n      ]);\n\n      // Make a separate API call to update the order\n      const orderResponse = await fetch(\"/api/chatgpt\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          prompt: `You are an AI assistant for Chick-fil-A, helping customers place orders under this ${persona}. The menu items available are: ${menu\n            .map((item) => item.name)\n            .join(\", \")}. Your task is to understand and process customer's requests for adding, updating, or removing items from their order, and provide information about menu items. Given this conversation, what is the customer's updated order? ${chatHistory}`,\n          temperature: 0.7,\n          topP: 1,\n          maxLength: 150,\n          menuData: menuData,\n        }),\n      });\n\n      const orderResponseBody = await orderResponse.json();\n\n      if (orderResponseBody && orderResponseBody.content) {\n        // Process the updated order from the API response\n        const updatedOrder = processOrder(orderResponseBody.content);\n        setOrder(updatedOrder);\n      }\n    }\n  }\n};\n\nconst processOrder = (orderString) => {\n  const regex = new RegExp(`(\\\\d+)\\\\s*x\\\\s*(${menu.map((item) => item.name).join(\"|\")})`, \"gi\");\n  const orderItems = [];\n\n  let match;\n  while ((match = regex.exec(orderString)) !== null) {\n    const quantity = parseInt(match[1]);\n    const itemName = match[2];\n    const menuItem = menu.find((item) => item.name === itemName);\n\n    if (menuItem) {\n      orderItems.push({ ...menuItem, quantity });\n    }\n  }\n\n  return orderItems;\n};\n\n\n  useEffect(() => {\n    if (chatContainerRef.current) {\n      chatContainerRef.current.scrollTop = chatContainerRef.current.scrollHeight;\n    }\n  }, [messages]);\n\n  \n  return (\n    <div className=\"App\">\n      <h1>Chick-fil-AI</h1>\n      <div className=\"chat-container\" ref={chatContainerRef}>\n        {messages.map((message, index) => (\n          <div\n            key={index}\n            className={`chat-message ${message.role === \"user\" ? \"user\" : \"assistant\"}`}\n          >\n            {message.content}\n          </div>\n        ))}\n      </div>\n      <div className=\"menu-order\">\n        <h2>Your Order:</h2>\n        {renderOrder()}\n      </div>\n      <form onSubmit={handleSubmit}>\n        <input\n          type=\"text\"\n          value={inputText}\n          onChange={(e) => setInputText(e.target.value)}\n        />\n        <button type=\"submit\">Send</button>\n      </form>\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}