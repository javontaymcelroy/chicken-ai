{"ast":null,"code":"var _jsxFileName = \"/Users/javontaymcelroy/Documents/Coding/chicken-ai/chicken-ai/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from \"react\";\nimport menuData from \"./menuData.json\";\nimport \"./App.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [inputText, setInputText] = useState(\"\");\n  const [messages, setMessages] = useState([{\n    role: 'assistant',\n    content: \"Welcome to Chick-fil-A! We're so excited to see you! What can we get started for you today? ðŸ®\"\n  }]);\n  const [menu] = useState(menuData.menu);\n  const [order, setOrder] = useState([]);\n  const persona = \"Use a friendly and approachable tone, add a touch of wit and humor, and incorporate colloquialisms and everyday language to give your writing a down-to-earth quality. Write in a straightforward and concise manner (preferably under 60 characters), avoiding excessive use of flowery language or complex sentence structures. Keep your writing style relatable and easy to follow, to establish yourself as a friendly and likable person.\";\n  const chatContainerRef = useRef(null);\n\n  // Load messages from local storage\n  useEffect(() => {\n    const storedMessages = JSON.parse(localStorage.getItem(\"messages\")) || [];\n    setMessages(storedMessages);\n  }, []);\n\n  // Save individual messages to local storage\n  useEffect(() => {\n    const lastMessage = messages[messages.length - 1];\n    if (lastMessage) {\n      let storedMessages = JSON.parse(localStorage.getItem(\"messages\")) || [];\n      storedMessages.push(lastMessage);\n      localStorage.setItem(\"messages\", JSON.stringify(storedMessages));\n    }\n  }, [messages]);\n\n  // order\n  useEffect(() => {\n    setOrder([]);\n  }, []);\n\n  // Render and update menuOrder dynamically\n  const renderOrder = () => {\n    return order.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [item.name, \" x \", item.quantity]\n    }, item.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }, this));\n  };\n  const extractInfo = responseText => {\n    const menuItemNames = menuData.menu.map(item => item.name).join('|');\n    const addActionRegex = new RegExp(`(?:adding|added|got|included)\\\\s*(?:a |an |some |)(${menuItemNames})(?: to the order|)`, 'i');\n    const updateActionRegex = /(?:updating|updated|changing|changed|altering|altered)(?: the| my)?(?: quantity of)?(?: the)? ([a-zA-Z\\s]+) (?:to|for|in my order)?(?:\\s*please\\s*|)(?:\\s*to\\s*|)(\\d+)/i;\n    const deleteActionRegex = /(?:removing|removed|deleting|deleted|canceling|canceled|taking off|erasing|discarding)(?: the| a| an)? ([a-zA-Z\\s]+)(?: from the order|)?(?: please|)/i;\n    const addActionMatch = responseText.match(addActionRegex);\n    const updateActionMatch = responseText.match(updateActionRegex);\n    const deleteActionMatch = responseText.match(deleteActionRegex);\n    if (addActionMatch) {\n      return {\n        action: \"add\",\n        item: {\n          name: addActionMatch[1].trim(),\n          quantity: null\n        }\n      };\n    } else if (updateActionMatch) {\n      return {\n        action: \"update\",\n        item: {\n          name: updateActionMatch[1].trim(),\n          quantity: parseInt(updateActionMatch[2])\n        }\n      };\n    } else if (deleteActionMatch) {\n      return {\n        action: \"delete\",\n        item: {\n          name: deleteActionMatch[1].trim(),\n          quantity: null\n        }\n      };\n    } else {\n      return {\n        action: \"\",\n        item: {\n          name: \"\",\n          quantity: null\n        }\n      };\n    }\n  };\n  const updateOrderItems = responseText => {\n    const extractedInfo = extractInfo(responseText);\n    switch (extractedInfo.action) {\n      case \"add\":\n        const itemToAdd = menu.find(item => item.name.toLowerCase() === extractedInfo.item.name.toLowerCase());\n        if (itemToAdd) {\n          setOrder(prevOrder => {\n            const existingOrderItem = prevOrder.find(item => item.id === itemToAdd.id);\n            if (existingOrderItem) {\n              return prevOrder.map(item => item.id === itemToAdd.id ? {\n                ...item,\n                quantity: item.quantity + 1\n              } : item);\n            } else {\n              return [...prevOrder, {\n                ...itemToAdd,\n                quantity: 1\n              }];\n            }\n          });\n        }\n        break;\n      case \"update\":\n        const itemToUpdate = order.find(item => item.name.toLowerCase() === extractedInfo.item.name.toLowerCase());\n        if (itemToUpdate) {\n          console.log(\"Order before update:\", order);\n          itemToUpdate.quantity = extractedInfo.item.quantity;\n          setOrder([...order]);\n          console.log(\"Order after update:\", order);\n        }\n        break;\n      case \"delete\":\n        const itemToDeleteIndex = order.findIndex(item => item.name.toLowerCase() === extractedInfo.item.name.toLowerCase());\n        if (itemToDeleteIndex > -1) {\n          console.log(\"Order before delete:\", order);\n          setOrder(order.filter((_, index) => index !== itemToDeleteIndex));\n          console.log(\"Order after delete:\", order);\n        }\n        break;\n      default:\n        break;\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (inputText.trim()) {\n      setMessages([...messages, {\n        role: \"user\",\n        content: inputText\n      }]);\n      const chatHistory = [...messages, {\n        role: \"user\",\n        content: inputText\n      }].map(m => m.content).join(\" \");\n      const lastUserMessage = inputText;\n      const response = await fetch(\"/api/chatgpt\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          prompt: `You are an AI assistant for Chick-fil-A, helping customers place orders under this ${persona}. The menu items available are: ${menu.map(item => item.name).join(\", \")}. Your task is to understand and process customer's requests for adding, updating, or removing items from their order, and provide information about menu items. ${chatHistory}. Please keep your response concise.`,\n          temperature: 0.7,\n          topP: 1,\n          maxLength: 150\n        })\n      });\n      console.log(\"Raw Response:\", response);\n      const responseBody = await response.json();\n      console.log(\"Response body:\", responseBody);\n      if (responseBody && responseBody.content) {\n        const chatGPTResponse = responseBody.content;\n        updateOrderItems(chatGPTResponse);\n        const extractedInfo = extractInfo(chatGPTResponse, lastUserMessage);\n        console.log(\"Extracted info:\", extractedInfo);\n        const conciseResponse = `${extractedInfo.action}: ${extractedInfo.item.name} ${extractedInfo.item.quantity ? '(' + extractedInfo.item.quantity + ')' : ''}`;\n        switch (extractedInfo.action) {\n          case \"add\":\n            const itemToAdd = menu.find(item => item.name.toLowerCase() === extractedInfo.item.name.toLowerCase());\n            if (itemToAdd) {\n              setOrder(prevOrder => {\n                const existingOrderItem = prevOrder.find(item => item.id === itemToAdd.id);\n                if (existingOrderItem) {\n                  return prevOrder.map(item => item.id === itemToAdd.id ? {\n                    ...item,\n                    quantity: item.quantity + 1\n                  } : item);\n                } else {\n                  return [...prevOrder, {\n                    ...itemToAdd,\n                    quantity: 1\n                  }];\n                }\n              });\n            }\n            break;\n          case \"update\":\n            const itemToUpdate = order.find(item => item.name.toLowerCase() === extractedInfo.item.name.toLowerCase());\n            if (itemToUpdate) {\n              console.log(\"Order before update:\", order);\n              itemToUpdate.quantity = extractedInfo.item.quantity;\n              setOrder([...order]);\n              console.log(\"Order after update:\", order);\n            }\n            break;\n          case \"delete\":\n            const itemToDeleteIndex = order.findIndex(item => item.name.toLowerCase() === extractedInfo.item.name.toLowerCase());\n            if (itemToDeleteIndex > -1) {\n              console.log(\"Order before delete:\", order);\n              setOrder(order.filter((_, index) => index !== itemToDeleteIndex));\n              console.log(\"Order after delete:\", order);\n            }\n            break;\n          default:\n            break;\n        }\n        setMessages(prevMessages => [...prevMessages, {\n          role: \"assistant\",\n          content: conciseResponse\n        }]);\n      } else {\n        console.log(\"No response content:\", responseBody);\n      }\n      setInputText(\"\");\n    }\n  };\n  useEffect(() => {\n    if (chatContainerRef.current) {\n      chatContainerRef.current.scrollTop = chatContainerRef.current.scrollHeight;\n    }\n  }, [messages]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Chick-fil-AI\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-container\",\n      ref: chatContainerRef,\n      children: messages.map((message, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `chat-message ${message.role === \"user\" ? \"user\" : \"assistant\"}`,\n        children: message.content\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"menu-order\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Your Order:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 9\n      }, this), renderOrder()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: inputText,\n        onChange: e => setInputText(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Send\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 264,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"z1g16G5VW+XYOAuLaIRfNm59Zhc=\");\n_c = App;\nexport default App;\n\n// add to cart buttons\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","menuData","jsxDEV","_jsxDEV","App","_s","inputText","setInputText","messages","setMessages","role","content","menu","order","setOrder","persona","chatContainerRef","storedMessages","JSON","parse","localStorage","getItem","lastMessage","length","push","setItem","stringify","renderOrder","map","item","children","name","quantity","id","fileName","_jsxFileName","lineNumber","columnNumber","extractInfo","responseText","menuItemNames","join","addActionRegex","RegExp","updateActionRegex","deleteActionRegex","addActionMatch","match","updateActionMatch","deleteActionMatch","action","trim","parseInt","updateOrderItems","extractedInfo","itemToAdd","find","toLowerCase","prevOrder","existingOrderItem","itemToUpdate","console","log","itemToDeleteIndex","findIndex","filter","_","index","handleSubmit","e","preventDefault","chatHistory","m","lastUserMessage","response","fetch","method","headers","body","prompt","temperature","topP","maxLength","responseBody","json","chatGPTResponse","conciseResponse","prevMessages","current","scrollTop","scrollHeight","className","ref","message","onSubmit","type","value","onChange","target","_c","$RefreshReg$"],"sources":["/Users/javontaymcelroy/Documents/Coding/chicken-ai/chicken-ai/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport menuData from \"./menuData.json\";\nimport \"./App.css\";\n\nfunction App() {\n  const [inputText, setInputText] = useState(\"\");\n  const [messages, setMessages] = useState([\n    {\n      role: 'assistant',\n      content: \"Welcome to Chick-fil-A! We're so excited to see you! What can we get started for you today? ðŸ®\",\n    },\n  ]);\n  \n  const [menu] = useState(menuData.menu);\n  const [order, setOrder] = useState([]);\n  const persona = \"Use a friendly and approachable tone, add a touch of wit and humor, and incorporate colloquialisms and everyday language to give your writing a down-to-earth quality. Write in a straightforward and concise manner (preferably under 60 characters), avoiding excessive use of flowery language or complex sentence structures. Keep your writing style relatable and easy to follow, to establish yourself as a friendly and likable person.\"\n  const chatContainerRef = useRef(null);\n\n  // Load messages from local storage\n  useEffect(() => {\n    const storedMessages = JSON.parse(localStorage.getItem(\"messages\")) || [];\n    setMessages(storedMessages);\n  }, []);\n\n  // Save individual messages to local storage\n  useEffect(() => {\n    const lastMessage = messages[messages.length - 1];\n    if (lastMessage) {\n      let storedMessages = JSON.parse(localStorage.getItem(\"messages\")) || [];\n      storedMessages.push(lastMessage);\n      localStorage.setItem(\"messages\", JSON.stringify(storedMessages));\n    }\n  }, [messages]);\n\n// order\nuseEffect(() => {\n  setOrder([]);\n}, []);\n\n// Render and update menuOrder dynamically\nconst renderOrder = () => {\n  return order.map((item) => (\n    <div key={item.id}>\n      {item.name} x {item.quantity}\n    </div>\n  ));\n};\n  \n\nconst extractInfo = (responseText) => {\n  const menuItemNames = menuData.menu.map((item) => item.name).join('|');\n  const addActionRegex = new RegExp(`(?:adding|added|got|included)\\\\s*(?:a |an |some |)(${menuItemNames})(?: to the order|)`, 'i');\n  const updateActionRegex = /(?:updating|updated|changing|changed|altering|altered)(?: the| my)?(?: quantity of)?(?: the)? ([a-zA-Z\\s]+) (?:to|for|in my order)?(?:\\s*please\\s*|)(?:\\s*to\\s*|)(\\d+)/i;\n  const deleteActionRegex = /(?:removing|removed|deleting|deleted|canceling|canceled|taking off|erasing|discarding)(?: the| a| an)? ([a-zA-Z\\s]+)(?: from the order|)?(?: please|)/i;\n\n  const addActionMatch = responseText.match(addActionRegex);\n  const updateActionMatch = responseText.match(updateActionRegex);\n  const deleteActionMatch = responseText.match(deleteActionRegex);\n\n  if (addActionMatch) {\n    return {\n      action: \"add\",\n      item: {\n        name: addActionMatch[1].trim(),\n        quantity: null,\n      },\n    };\n  } else if (updateActionMatch) {\n    return {\n      action: \"update\",\n      item: {\n        name: updateActionMatch[1].trim(),\n        quantity: parseInt(updateActionMatch[2]),\n      },\n    };\n  } else if (deleteActionMatch) {\n    return {\n      action: \"delete\",\n      item: {\n        name: deleteActionMatch[1].trim(),\n        quantity: null,\n      },\n    };\n  } else {\n    return {\n      action: \"\",\n      item: {\n        name: \"\",\n        quantity: null,\n      },\n    };\n  }\n};\n\nconst updateOrderItems = (responseText) => {\n  const extractedInfo = extractInfo(responseText);\n\n  switch (extractedInfo.action) {\n    case \"add\":\n      const itemToAdd = menu.find(\n        (item) =>\n          item.name.toLowerCase() === extractedInfo.item.name.toLowerCase()\n      );\n      if (itemToAdd) {\n        setOrder((prevOrder) => {\n          const existingOrderItem = prevOrder.find(\n            (item) => item.id === itemToAdd.id\n          );\n          if (existingOrderItem) {\n            return prevOrder.map((item) =>\n              item.id === itemToAdd.id\n                ? { ...item, quantity: item.quantity + 1 }\n                : item\n            );\n          } else {\n            return [...prevOrder, { ...itemToAdd, quantity: 1 }];\n          }\n        });\n      }\n      break;\n\n    case \"update\":\n      const itemToUpdate = order.find(\n        (item) =>\n          item.name.toLowerCase() === extractedInfo.item.name.toLowerCase()\n      );\n      if (itemToUpdate) {\n        console.log(\"Order before update:\", order);\n        itemToUpdate.quantity = extractedInfo.item.quantity;\n        setOrder([...order]);\n        console.log(\"Order after update:\", order);\n      }\n      break;\n\n    case \"delete\":\n      const itemToDeleteIndex = order.findIndex(\n        (item) =>\n          item.name.toLowerCase() === extractedInfo.item.name.toLowerCase()\n      );\n      if (itemToDeleteIndex > -1) {\n        console.log(\"Order before delete:\", order);\n        setOrder(order.filter((_, index) => index !== itemToDeleteIndex));\n        console.log(\"Order after delete:\", order);\n      }\n      break;\n\n    default:\n      break;\n  }\n};\n\n\nconst handleSubmit = async (e) => {\n  e.preventDefault();\n\n  if (inputText.trim()) {\n    setMessages([...messages, { role: \"user\", content: inputText }]);\n\n    const chatHistory = [...messages, { role: \"user\", content: inputText }]\n      .map((m) => m.content)\n      .join(\" \");\n    const lastUserMessage = inputText;\n\n    const response = await fetch(\"/api/chatgpt\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        prompt: `You are an AI assistant for Chick-fil-A, helping customers place orders under this ${persona}. The menu items available are: ${menu\n          .map((item) => item.name)\n          .join(\", \")}. Your task is to understand and process customer's requests for adding, updating, or removing items from their order, and provide information about menu items. ${chatHistory}. Please keep your response concise.`,\n        temperature: 0.7,\n        topP: 1,\n        maxLength: 150,\n      }),\n    });\n\n    console.log(\"Raw Response:\", response);\n\n    const responseBody = await response.json();\n    console.log(\"Response body:\", responseBody);\n\n    if (responseBody && responseBody.content) {\n      const chatGPTResponse = responseBody.content;\n      updateOrderItems(chatGPTResponse);\n      const extractedInfo = extractInfo(chatGPTResponse, lastUserMessage);\n      console.log(\"Extracted info:\", extractedInfo);\n\n      const conciseResponse = `${extractedInfo.action}: ${extractedInfo.item.name} ${extractedInfo.item.quantity ? '(' + extractedInfo.item.quantity + ')' : ''}`;\n\n      switch (extractedInfo.action) {\n        case \"add\":\n          const itemToAdd = menu.find(\n            (item) =>\n              item.name.toLowerCase() === extractedInfo.item.name.toLowerCase()\n          );\n          if (itemToAdd) {\n            setOrder((prevOrder) => {\n              const existingOrderItem = prevOrder.find(\n                (item) => item.id === itemToAdd.id\n              );\n              if (existingOrderItem) {\n                return prevOrder.map((item) =>\n                  item.id === itemToAdd.id\n                    ? { ...item, quantity: item.quantity + 1 }\n                    : item\n                );\n              } else {\n                return [...prevOrder, { ...itemToAdd, quantity: 1 }];\n              }\n            });\n          }\n          break;\n\n        case \"update\":\n          const itemToUpdate = order.find(\n            (item) =>\n              item.name.toLowerCase() === extractedInfo.item.name.toLowerCase()\n          );\n          if (itemToUpdate) {\n            console.log(\"Order before update:\", order);\n            itemToUpdate.quantity = extractedInfo.item.quantity;\n            setOrder([...order]);\n            console.log(\"Order after update:\", order);\n          }\n          break;\n\n        case \"delete\":\n          const itemToDeleteIndex = order.findIndex(\n            (item) =>\n              item.name.toLowerCase() === extractedInfo.item.name.toLowerCase()\n          );\n          if (itemToDeleteIndex > -1) {\n            console.log(\"Order before delete:\", order);\n            setOrder(order.filter((_, index) => index !== itemToDeleteIndex));\n            console.log(\"Order after delete:\", order);\n          }\n          break;\n\n        default:\n          break;\n      }\n\n      setMessages((prevMessages) => [\n        ...prevMessages,\n        { role: \"assistant\", content: conciseResponse },\n      ]);\n    } else {\n      console.log(\"No response content:\", responseBody);\n    }\n\n    setInputText(\"\");\n  }\n};\n\n\n  useEffect(() => {\n    if (chatContainerRef.current) {\n      chatContainerRef.current.scrollTop = chatContainerRef.current.scrollHeight;\n    }\n  }, [messages]);\n\n  \n  return (\n    <div className=\"App\">\n      <h1>Chick-fil-AI</h1>\n      <div className=\"chat-container\" ref={chatContainerRef}>\n        {messages.map((message, index) => (\n          <div\n            key={index}\n            className={`chat-message ${message.role === \"user\" ? \"user\" : \"assistant\"}`}\n          >\n            {message.content}\n          </div>\n        ))}\n      </div>\n      {/* Add renderOrder here */}\n      <div className=\"menu-order\">\n        <h2>Your Order:</h2>\n        {renderOrder()}\n      </div>\n      <form onSubmit={handleSubmit}>\n        <input\n          type=\"text\"\n          value={inputText}\n          onChange={(e) => setInputText(e.target.value)}\n        />\n        <button type=\"submit\">Send</button>\n      </form>\n    </div>\n  );\n}\n\nexport default App;\n\n// add to cart buttons"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAC1D,OAAOC,QAAQ,MAAM,iBAAiB;AACtC,OAAO,WAAW;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEnB,SAASC,GAAGA,CAAA,EAAG;EAAAC,EAAA;EACb,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACU,QAAQ,EAAEC,WAAW,CAAC,GAAGX,QAAQ,CAAC,CACvC;IACEY,IAAI,EAAE,WAAW;IACjBC,OAAO,EAAE;EACX,CAAC,CACF,CAAC;EAEF,MAAM,CAACC,IAAI,CAAC,GAAGd,QAAQ,CAACG,QAAQ,CAACW,IAAI,CAAC;EACtC,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGhB,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAMiB,OAAO,GAAG,ibAAib;EACjc,MAAMC,gBAAgB,GAAGhB,MAAM,CAAC,IAAI,CAAC;;EAErC;EACAD,SAAS,CAAC,MAAM;IACd,MAAMkB,cAAc,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAAC,IAAI,EAAE;IACzEZ,WAAW,CAACQ,cAAc,CAAC;EAC7B,CAAC,EAAE,EAAE,CAAC;;EAEN;EACAlB,SAAS,CAAC,MAAM;IACd,MAAMuB,WAAW,GAAGd,QAAQ,CAACA,QAAQ,CAACe,MAAM,GAAG,CAAC,CAAC;IACjD,IAAID,WAAW,EAAE;MACf,IAAIL,cAAc,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAAC,IAAI,EAAE;MACvEJ,cAAc,CAACO,IAAI,CAACF,WAAW,CAAC;MAChCF,YAAY,CAACK,OAAO,CAAC,UAAU,EAAEP,IAAI,CAACQ,SAAS,CAACT,cAAc,CAAC,CAAC;IAClE;EACF,CAAC,EAAE,CAACT,QAAQ,CAAC,CAAC;;EAEhB;EACAT,SAAS,CAAC,MAAM;IACde,QAAQ,CAAC,EAAE,CAAC;EACd,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA,MAAMa,WAAW,GAAGA,CAAA,KAAM;IACxB,OAAOd,KAAK,CAACe,GAAG,CAAEC,IAAI,iBACpB1B,OAAA;MAAA2B,QAAA,GACGD,IAAI,CAACE,IAAI,EAAC,KAAG,EAACF,IAAI,CAACG,QAAQ;IAAA,GADpBH,IAAI,CAACI,EAAE;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAEZ,CACN,CAAC;EACJ,CAAC;EAGD,MAAMC,WAAW,GAAIC,YAAY,IAAK;IACpC,MAAMC,aAAa,GAAGvC,QAAQ,CAACW,IAAI,CAACgB,GAAG,CAAEC,IAAI,IAAKA,IAAI,CAACE,IAAI,CAAC,CAACU,IAAI,CAAC,GAAG,CAAC;IACtE,MAAMC,cAAc,GAAG,IAAIC,MAAM,CAAE,sDAAqDH,aAAc,qBAAoB,EAAE,GAAG,CAAC;IAChI,MAAMI,iBAAiB,GAAG,yKAAyK;IACnM,MAAMC,iBAAiB,GAAG,wJAAwJ;IAElL,MAAMC,cAAc,GAAGP,YAAY,CAACQ,KAAK,CAACL,cAAc,CAAC;IACzD,MAAMM,iBAAiB,GAAGT,YAAY,CAACQ,KAAK,CAACH,iBAAiB,CAAC;IAC/D,MAAMK,iBAAiB,GAAGV,YAAY,CAACQ,KAAK,CAACF,iBAAiB,CAAC;IAE/D,IAAIC,cAAc,EAAE;MAClB,OAAO;QACLI,MAAM,EAAE,KAAK;QACbrB,IAAI,EAAE;UACJE,IAAI,EAAEe,cAAc,CAAC,CAAC,CAAC,CAACK,IAAI,CAAC,CAAC;UAC9BnB,QAAQ,EAAE;QACZ;MACF,CAAC;IACH,CAAC,MAAM,IAAIgB,iBAAiB,EAAE;MAC5B,OAAO;QACLE,MAAM,EAAE,QAAQ;QAChBrB,IAAI,EAAE;UACJE,IAAI,EAAEiB,iBAAiB,CAAC,CAAC,CAAC,CAACG,IAAI,CAAC,CAAC;UACjCnB,QAAQ,EAAEoB,QAAQ,CAACJ,iBAAiB,CAAC,CAAC,CAAC;QACzC;MACF,CAAC;IACH,CAAC,MAAM,IAAIC,iBAAiB,EAAE;MAC5B,OAAO;QACLC,MAAM,EAAE,QAAQ;QAChBrB,IAAI,EAAE;UACJE,IAAI,EAAEkB,iBAAiB,CAAC,CAAC,CAAC,CAACE,IAAI,CAAC,CAAC;UACjCnB,QAAQ,EAAE;QACZ;MACF,CAAC;IACH,CAAC,MAAM;MACL,OAAO;QACLkB,MAAM,EAAE,EAAE;QACVrB,IAAI,EAAE;UACJE,IAAI,EAAE,EAAE;UACRC,QAAQ,EAAE;QACZ;MACF,CAAC;IACH;EACF,CAAC;EAED,MAAMqB,gBAAgB,GAAId,YAAY,IAAK;IACzC,MAAMe,aAAa,GAAGhB,WAAW,CAACC,YAAY,CAAC;IAE/C,QAAQe,aAAa,CAACJ,MAAM;MAC1B,KAAK,KAAK;QACR,MAAMK,SAAS,GAAG3C,IAAI,CAAC4C,IAAI,CACxB3B,IAAI,IACHA,IAAI,CAACE,IAAI,CAAC0B,WAAW,CAAC,CAAC,KAAKH,aAAa,CAACzB,IAAI,CAACE,IAAI,CAAC0B,WAAW,CAAC,CACpE,CAAC;QACD,IAAIF,SAAS,EAAE;UACbzC,QAAQ,CAAE4C,SAAS,IAAK;YACtB,MAAMC,iBAAiB,GAAGD,SAAS,CAACF,IAAI,CACrC3B,IAAI,IAAKA,IAAI,CAACI,EAAE,KAAKsB,SAAS,CAACtB,EAClC,CAAC;YACD,IAAI0B,iBAAiB,EAAE;cACrB,OAAOD,SAAS,CAAC9B,GAAG,CAAEC,IAAI,IACxBA,IAAI,CAACI,EAAE,KAAKsB,SAAS,CAACtB,EAAE,GACpB;gBAAE,GAAGJ,IAAI;gBAAEG,QAAQ,EAAEH,IAAI,CAACG,QAAQ,GAAG;cAAE,CAAC,GACxCH,IACN,CAAC;YACH,CAAC,MAAM;cACL,OAAO,CAAC,GAAG6B,SAAS,EAAE;gBAAE,GAAGH,SAAS;gBAAEvB,QAAQ,EAAE;cAAE,CAAC,CAAC;YACtD;UACF,CAAC,CAAC;QACJ;QACA;MAEF,KAAK,QAAQ;QACX,MAAM4B,YAAY,GAAG/C,KAAK,CAAC2C,IAAI,CAC5B3B,IAAI,IACHA,IAAI,CAACE,IAAI,CAAC0B,WAAW,CAAC,CAAC,KAAKH,aAAa,CAACzB,IAAI,CAACE,IAAI,CAAC0B,WAAW,CAAC,CACpE,CAAC;QACD,IAAIG,YAAY,EAAE;UAChBC,OAAO,CAACC,GAAG,CAAC,sBAAsB,EAAEjD,KAAK,CAAC;UAC1C+C,YAAY,CAAC5B,QAAQ,GAAGsB,aAAa,CAACzB,IAAI,CAACG,QAAQ;UACnDlB,QAAQ,CAAC,CAAC,GAAGD,KAAK,CAAC,CAAC;UACpBgD,OAAO,CAACC,GAAG,CAAC,qBAAqB,EAAEjD,KAAK,CAAC;QAC3C;QACA;MAEF,KAAK,QAAQ;QACX,MAAMkD,iBAAiB,GAAGlD,KAAK,CAACmD,SAAS,CACtCnC,IAAI,IACHA,IAAI,CAACE,IAAI,CAAC0B,WAAW,CAAC,CAAC,KAAKH,aAAa,CAACzB,IAAI,CAACE,IAAI,CAAC0B,WAAW,CAAC,CACpE,CAAC;QACD,IAAIM,iBAAiB,GAAG,CAAC,CAAC,EAAE;UAC1BF,OAAO,CAACC,GAAG,CAAC,sBAAsB,EAAEjD,KAAK,CAAC;UAC1CC,QAAQ,CAACD,KAAK,CAACoD,MAAM,CAAC,CAACC,CAAC,EAAEC,KAAK,KAAKA,KAAK,KAAKJ,iBAAiB,CAAC,CAAC;UACjEF,OAAO,CAACC,GAAG,CAAC,qBAAqB,EAAEjD,KAAK,CAAC;QAC3C;QACA;MAEF;QACE;IACJ;EACF,CAAC;EAGD,MAAMuD,YAAY,GAAG,MAAOC,CAAC,IAAK;IAChCA,CAAC,CAACC,cAAc,CAAC,CAAC;IAElB,IAAIhE,SAAS,CAAC6C,IAAI,CAAC,CAAC,EAAE;MACpB1C,WAAW,CAAC,CAAC,GAAGD,QAAQ,EAAE;QAAEE,IAAI,EAAE,MAAM;QAAEC,OAAO,EAAEL;MAAU,CAAC,CAAC,CAAC;MAEhE,MAAMiE,WAAW,GAAG,CAAC,GAAG/D,QAAQ,EAAE;QAAEE,IAAI,EAAE,MAAM;QAAEC,OAAO,EAAEL;MAAU,CAAC,CAAC,CACpEsB,GAAG,CAAE4C,CAAC,IAAKA,CAAC,CAAC7D,OAAO,CAAC,CACrB8B,IAAI,CAAC,GAAG,CAAC;MACZ,MAAMgC,eAAe,GAAGnE,SAAS;MAEjC,MAAMoE,QAAQ,GAAG,MAAMC,KAAK,CAAC,cAAc,EAAE;QAC3CC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UAAE,cAAc,EAAE;QAAmB,CAAC;QAC/CC,IAAI,EAAE5D,IAAI,CAACQ,SAAS,CAAC;UACnBqD,MAAM,EAAG,sFAAqFhE,OAAQ,mCAAkCH,IAAI,CACzIgB,GAAG,CAAEC,IAAI,IAAKA,IAAI,CAACE,IAAI,CAAC,CACxBU,IAAI,CAAC,IAAI,CAAE,oKAAmK8B,WAAY,sCAAqC;UAClOS,WAAW,EAAE,GAAG;UAChBC,IAAI,EAAE,CAAC;UACPC,SAAS,EAAE;QACb,CAAC;MACH,CAAC,CAAC;MAEFrB,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEY,QAAQ,CAAC;MAEtC,MAAMS,YAAY,GAAG,MAAMT,QAAQ,CAACU,IAAI,CAAC,CAAC;MAC1CvB,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAEqB,YAAY,CAAC;MAE3C,IAAIA,YAAY,IAAIA,YAAY,CAACxE,OAAO,EAAE;QACxC,MAAM0E,eAAe,GAAGF,YAAY,CAACxE,OAAO;QAC5C0C,gBAAgB,CAACgC,eAAe,CAAC;QACjC,MAAM/B,aAAa,GAAGhB,WAAW,CAAC+C,eAAe,EAAEZ,eAAe,CAAC;QACnEZ,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAER,aAAa,CAAC;QAE7C,MAAMgC,eAAe,GAAI,GAAEhC,aAAa,CAACJ,MAAO,KAAII,aAAa,CAACzB,IAAI,CAACE,IAAK,IAAGuB,aAAa,CAACzB,IAAI,CAACG,QAAQ,GAAG,GAAG,GAAGsB,aAAa,CAACzB,IAAI,CAACG,QAAQ,GAAG,GAAG,GAAG,EAAG,EAAC;QAE3J,QAAQsB,aAAa,CAACJ,MAAM;UAC1B,KAAK,KAAK;YACR,MAAMK,SAAS,GAAG3C,IAAI,CAAC4C,IAAI,CACxB3B,IAAI,IACHA,IAAI,CAACE,IAAI,CAAC0B,WAAW,CAAC,CAAC,KAAKH,aAAa,CAACzB,IAAI,CAACE,IAAI,CAAC0B,WAAW,CAAC,CACpE,CAAC;YACD,IAAIF,SAAS,EAAE;cACbzC,QAAQ,CAAE4C,SAAS,IAAK;gBACtB,MAAMC,iBAAiB,GAAGD,SAAS,CAACF,IAAI,CACrC3B,IAAI,IAAKA,IAAI,CAACI,EAAE,KAAKsB,SAAS,CAACtB,EAClC,CAAC;gBACD,IAAI0B,iBAAiB,EAAE;kBACrB,OAAOD,SAAS,CAAC9B,GAAG,CAAEC,IAAI,IACxBA,IAAI,CAACI,EAAE,KAAKsB,SAAS,CAACtB,EAAE,GACpB;oBAAE,GAAGJ,IAAI;oBAAEG,QAAQ,EAAEH,IAAI,CAACG,QAAQ,GAAG;kBAAE,CAAC,GACxCH,IACN,CAAC;gBACH,CAAC,MAAM;kBACL,OAAO,CAAC,GAAG6B,SAAS,EAAE;oBAAE,GAAGH,SAAS;oBAAEvB,QAAQ,EAAE;kBAAE,CAAC,CAAC;gBACtD;cACF,CAAC,CAAC;YACJ;YACA;UAEF,KAAK,QAAQ;YACX,MAAM4B,YAAY,GAAG/C,KAAK,CAAC2C,IAAI,CAC5B3B,IAAI,IACHA,IAAI,CAACE,IAAI,CAAC0B,WAAW,CAAC,CAAC,KAAKH,aAAa,CAACzB,IAAI,CAACE,IAAI,CAAC0B,WAAW,CAAC,CACpE,CAAC;YACD,IAAIG,YAAY,EAAE;cAChBC,OAAO,CAACC,GAAG,CAAC,sBAAsB,EAAEjD,KAAK,CAAC;cAC1C+C,YAAY,CAAC5B,QAAQ,GAAGsB,aAAa,CAACzB,IAAI,CAACG,QAAQ;cACnDlB,QAAQ,CAAC,CAAC,GAAGD,KAAK,CAAC,CAAC;cACpBgD,OAAO,CAACC,GAAG,CAAC,qBAAqB,EAAEjD,KAAK,CAAC;YAC3C;YACA;UAEF,KAAK,QAAQ;YACX,MAAMkD,iBAAiB,GAAGlD,KAAK,CAACmD,SAAS,CACtCnC,IAAI,IACHA,IAAI,CAACE,IAAI,CAAC0B,WAAW,CAAC,CAAC,KAAKH,aAAa,CAACzB,IAAI,CAACE,IAAI,CAAC0B,WAAW,CAAC,CACpE,CAAC;YACD,IAAIM,iBAAiB,GAAG,CAAC,CAAC,EAAE;cAC1BF,OAAO,CAACC,GAAG,CAAC,sBAAsB,EAAEjD,KAAK,CAAC;cAC1CC,QAAQ,CAACD,KAAK,CAACoD,MAAM,CAAC,CAACC,CAAC,EAAEC,KAAK,KAAKA,KAAK,KAAKJ,iBAAiB,CAAC,CAAC;cACjEF,OAAO,CAACC,GAAG,CAAC,qBAAqB,EAAEjD,KAAK,CAAC;YAC3C;YACA;UAEF;YACE;QACJ;QAEAJ,WAAW,CAAE8E,YAAY,IAAK,CAC5B,GAAGA,YAAY,EACf;UAAE7E,IAAI,EAAE,WAAW;UAAEC,OAAO,EAAE2E;QAAgB,CAAC,CAChD,CAAC;MACJ,CAAC,MAAM;QACLzB,OAAO,CAACC,GAAG,CAAC,sBAAsB,EAAEqB,YAAY,CAAC;MACnD;MAEA5E,YAAY,CAAC,EAAE,CAAC;IAClB;EACF,CAAC;EAGCR,SAAS,CAAC,MAAM;IACd,IAAIiB,gBAAgB,CAACwE,OAAO,EAAE;MAC5BxE,gBAAgB,CAACwE,OAAO,CAACC,SAAS,GAAGzE,gBAAgB,CAACwE,OAAO,CAACE,YAAY;IAC5E;EACF,CAAC,EAAE,CAAClF,QAAQ,CAAC,CAAC;EAGd,oBACEL,OAAA;IAAKwF,SAAS,EAAC,KAAK;IAAA7D,QAAA,gBAClB3B,OAAA;MAAA2B,QAAA,EAAI;IAAY;MAAAI,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACrBlC,OAAA;MAAKwF,SAAS,EAAC,gBAAgB;MAACC,GAAG,EAAE5E,gBAAiB;MAAAc,QAAA,EACnDtB,QAAQ,CAACoB,GAAG,CAAC,CAACiE,OAAO,EAAE1B,KAAK,kBAC3BhE,OAAA;QAEEwF,SAAS,EAAG,gBAAeE,OAAO,CAACnF,IAAI,KAAK,MAAM,GAAG,MAAM,GAAG,WAAY,EAAE;QAAAoB,QAAA,EAE3E+D,OAAO,CAAClF;MAAO,GAHXwD,KAAK;QAAAjC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAIP,CACN;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC,eAENlC,OAAA;MAAKwF,SAAS,EAAC,YAAY;MAAA7D,QAAA,gBACzB3B,OAAA;QAAA2B,QAAA,EAAI;MAAW;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,EACnBV,WAAW,CAAC,CAAC;IAAA;MAAAO,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACX,CAAC,eACNlC,OAAA;MAAM2F,QAAQ,EAAE1B,YAAa;MAAAtC,QAAA,gBAC3B3B,OAAA;QACE4F,IAAI,EAAC,MAAM;QACXC,KAAK,EAAE1F,SAAU;QACjB2F,QAAQ,EAAG5B,CAAC,IAAK9D,YAAY,CAAC8D,CAAC,CAAC6B,MAAM,CAACF,KAAK;MAAE;QAAA9D,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC/C,CAAC,eACFlC,OAAA;QAAQ4F,IAAI,EAAC,QAAQ;QAAAjE,QAAA,EAAC;MAAI;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC/B,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACJ,CAAC;AAEV;AAAChC,EAAA,CA9RQD,GAAG;AAAA+F,EAAA,GAAH/F,GAAG;AAgSZ,eAAeA,GAAG;;AAElB;AAAA,IAAA+F,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}