{"ast":null,"code":"var _jsxFileName = \"/Users/javontaymcelroy/Documents/Coding/chicken-ai/chicken-ai/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback, useRef } from \"react\";\nimport menuData from \"./menuData.json\";\nimport \"./App.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [inputText, setInputText] = useState(\"\");\n  const [messages, setMessages] = useState([{\n    role: 'assistant',\n    content: \"Welcome to Chick-fil-A! We're so excited to see you! What can we get started for you today? ðŸ®\"\n  }]);\n  const [menu] = useState(menuData.menu);\n  const persona = \"Use a friendly and approachable tone, add a touch of wit and humor, and incorporate colloquialisms and everyday language to give your writing a down-to-earth quality. Write in a straightforward and concise manner (preferably under 60 characters), avoiding excessive use of flowery language or complex sentence structures. Keep your writing style relatable and easy to follow, to establish yourself as a friendly and likable person.\";\n  const chatContainerRef = useRef(null);\n\n  // Load messages from local storage\n  useEffect(() => {\n    const storedMessages = JSON.parse(localStorage.getItem(\"messages\")) || [];\n    setMessages(storedMessages);\n  }, []);\n\n  // Save individual messages to local storage\n  useEffect(() => {\n    const lastMessage = messages[messages.length - 1];\n    if (lastMessage) {\n      let storedMessages = JSON.parse(localStorage.getItem(\"messages\")) || [];\n      storedMessages.push(lastMessage);\n      localStorage.setItem(\"messages\", JSON.stringify(storedMessages));\n    }\n  }, [messages]);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (inputText.trim()) {\n      const newMessages = [...messages, {\n        role: \"user\",\n        content: inputText\n      }];\n      setMessages(newMessages);\n      const chatHistory = newMessages.map(m => m.content).join(\" \");\n      const response = await fetch(\"/api/chatgpt\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          prompt: `You are an AI assistant for Chick-fil-A, helping customers place orders under this ${persona}. The menu items available are: ${menu.map(item => item.name).join(\", \")}. Your task is to understand and process customer's requests for adding, updating, or removing items from their order, and provide information about menu items. ${chatHistory}. Please keep your response concise.`,\n          temperature: 0.7,\n          topP: 1,\n          maxLength: 150\n        })\n      });\n      const responseBody = await response.json();\n      if (responseBody && responseBody.content) {\n        const chatGPTResponse = responseBody.content;\n        console.log(\"ChatGPT Response:\", chatGPTResponse);\n        setMessages(prevMessages => [...prevMessages, {\n          role: \"assistant\",\n          content: chatGPTResponse\n        }]);\n\n        // Call the reviewOrderItems function to update the order\n        await reviewOrderItems(chatHistory + \" \" + chatGPTResponse);\n      } else {\n        console.log(\"No response content:\", responseBody);\n      }\n      setInputText(\"\");\n    }\n  };\n  useEffect(() => {\n    if (chatContainerRef.current) {\n      chatContainerRef.current.scrollTop = chatContainerRef.current.scrollHeight;\n    }\n  }, [messages]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Chick-fil-AI\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-container\",\n      ref: chatContainerRef,\n      children: messages.map((message, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `chat-message ${message.role === \"user\" ? \"user\" : \"assistant\"}`,\n        children: message.content\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: inputText,\n        onChange: e => setInputText(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Send\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 90,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"w4IQWsH6rWBe3+GxIfWkCmwIP9k=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useRef","menuData","jsxDEV","_jsxDEV","App","_s","inputText","setInputText","messages","setMessages","role","content","menu","persona","chatContainerRef","storedMessages","JSON","parse","localStorage","getItem","lastMessage","length","push","setItem","stringify","handleSubmit","e","preventDefault","trim","newMessages","chatHistory","map","m","join","response","fetch","method","headers","body","prompt","item","name","temperature","topP","maxLength","responseBody","json","chatGPTResponse","console","log","prevMessages","reviewOrderItems","current","scrollTop","scrollHeight","className","children","fileName","_jsxFileName","lineNumber","columnNumber","ref","message","index","onSubmit","type","value","onChange","target","_c","$RefreshReg$"],"sources":["/Users/javontaymcelroy/Documents/Coding/chicken-ai/chicken-ai/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useCallback, useRef } from \"react\";\nimport menuData from \"./menuData.json\";\nimport \"./App.css\";\n\nfunction App() {\n  const [inputText, setInputText] = useState(\"\");\n  const [messages, setMessages] = useState([\n    {\n      role: 'assistant',\n      content: \"Welcome to Chick-fil-A! We're so excited to see you! What can we get started for you today? ðŸ®\",\n    },\n  ]);\n  \n  const [menu] = useState(menuData.menu);\n  const persona = \"Use a friendly and approachable tone, add a touch of wit and humor, and incorporate colloquialisms and everyday language to give your writing a down-to-earth quality. Write in a straightforward and concise manner (preferably under 60 characters), avoiding excessive use of flowery language or complex sentence structures. Keep your writing style relatable and easy to follow, to establish yourself as a friendly and likable person.\"\n  const chatContainerRef = useRef(null);\n\n\n  // Load messages from local storage\n  useEffect(() => {\n    const storedMessages = JSON.parse(localStorage.getItem(\"messages\")) || [];\n    setMessages(storedMessages);\n  }, []);\n\n  // Save individual messages to local storage\n  useEffect(() => {\n    const lastMessage = messages[messages.length - 1];\n    if (lastMessage) {\n      let storedMessages = JSON.parse(localStorage.getItem(\"messages\")) || [];\n      storedMessages.push(lastMessage);\n      localStorage.setItem(\"messages\", JSON.stringify(storedMessages));\n    }\n  }, [messages]);\n\n\n\nconst handleSubmit = async (e) => {\n  e.preventDefault();\n\n  if (inputText.trim()) {\n    const newMessages = [...messages, { role: \"user\", content: inputText }];\n    setMessages(newMessages);\n\n    const chatHistory = newMessages\n      .map((m) => m.content)\n      .join(\" \");\n\n    const response = await fetch(\"/api/chatgpt\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        prompt: `You are an AI assistant for Chick-fil-A, helping customers place orders under this ${persona}. The menu items available are: ${menu\n          .map((item) => item.name)\n          .join(\", \")}. Your task is to understand and process customer's requests for adding, updating, or removing items from their order, and provide information about menu items. ${chatHistory}. Please keep your response concise.`,\n        temperature: 0.7,\n        topP: 1,\n        maxLength: 150,\n      }),\n    });\n\n    const responseBody = await response.json();\n\n    if (responseBody && responseBody.content) {\n      const chatGPTResponse = responseBody.content;\n      console.log(\"ChatGPT Response:\", chatGPTResponse);\n\n      setMessages((prevMessages) => [\n        ...prevMessages,\n        { role: \"assistant\", content: chatGPTResponse },\n      ]);\n\n      // Call the reviewOrderItems function to update the order\n      await reviewOrderItems(chatHistory + \" \" + chatGPTResponse);\n    } else {\n      console.log(\"No response content:\", responseBody);\n    }\n\n    setInputText(\"\");\n  }\n};\n\n\n  useEffect(() => {\n    if (chatContainerRef.current) {\n      chatContainerRef.current.scrollTop = chatContainerRef.current.scrollHeight;\n    }\n  }, [messages]);\n  \n  return (\n    <div className=\"App\">\n      <h1>Chick-fil-AI</h1>\n      <div className=\"chat-container\" ref={chatContainerRef}>\n        {messages.map((message, index) => (\n          <div\n            key={index}\n            className={`chat-message ${message.role === \"user\" ? \"user\" : \"assistant\"}`}\n          >\n            {message.content}\n          </div>\n        ))}\n      </div>\n\n      <form onSubmit={handleSubmit}>\n        <input\n          type=\"text\"\n          value={inputText}\n          onChange={(e) => setInputText(e.target.value)}\n        />\n        <button type=\"submit\">Send</button>\n      </form>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}